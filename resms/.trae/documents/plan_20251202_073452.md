# 实现查询筛选房源项目功能

## 1. 需求分析
需要根据`QueryDTO`中的所有参数，实现`ProjectMapper.selectProjectHouseStatPage`方法，支持多条件筛选和排序。

## 2. 实现方案

### 2.1 修改`ProjectMapper.xml`文件

#### 2.1.1 完善SQL查询字段
- 添加缺失的`minUnitPrice`和`maxUnitPrice`计算

#### 2.1.2 添加筛选条件
1. **关键词搜索**：根据项目名称、开发商等字段进行模糊搜索
2. **区县筛选**：根据`district`字段筛选
3. **物业类型筛选**：根据`property_type`字段筛选
4. **户型筛选**：根据`layout`字段筛选
5. **价格区间筛选**：根据`price`字段筛选
6. **面积区间筛选**：根据`area`字段筛选
7. **单价区间筛选**：计算单价并筛选

#### 2.1.3 添加动态排序
- 根据`sortField`和`sortOrder`参数动态生成排序逻辑

### 2.2 实现细节

1. **SQL优化**：
   - 使用`LEFT JOIN`关联房源表
   - 添加合理的索引使用
   - 优化聚合函数计算

2. **筛选条件处理**：
   - 所有筛选条件均使用`IFNULL`或`<if>`标签进行非空判断
   - 确保筛选条件的类型匹配

3. **排序逻辑**：
   - 支持按项目均价、最低总价、最高总价、最小面积、最大面积等字段排序
   - 支持升序和降序

## 3. 预期结果
实现后，`selectProjectHouseStatPage`方法将支持`QueryDTO`中的所有筛选条件，能够根据用户输入的各种参数，准确查询和返回符合条件的项目房屋统计信息。